{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ryan_\\\\aws-appsync-demo\\\\src\\\\App.js\";\nimport React from 'react';\nimport { graphqlOperation } from \"aws-amplify\";\nimport { Connect } from \"aws-amplify-react\";\nimport * as mutations from './graphql/mutations';\nimport * as queries from './graphql/queries';\nimport * as subscriptions from './graphql/subscriptions';\n\nvar AddTodo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddTodo, _React$Component);\n\n  function AddTodo(props) {\n    var _this;\n\n    _classCallCheck(this, AddTodo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddTodo).call(this, props));\n    _this.state = {\n      name: '',\n      description: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddTodo, [{\n    key: \"handleChange\",\n    value: function handleChange(name, ev) {\n      this.setState(_defineProperty({}, name, ev.target.value));\n    }\n  }, {\n    key: \"submit\",\n    value: function () {\n      var _submit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var onCreate, input;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                onCreate = this.props.onCreate;\n                input = {\n                  name: this.state.name,\n                  description: this.state.description\n                };\n                console.log(input);\n                _context.next = 5;\n                return onCreate({\n                  input: input\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submit() {\n        return _submit.apply(this, arguments);\n      }\n\n      return submit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"name\",\n        placeholder: \"name\",\n        onChange: function onChange(ev) {\n          _this2.handleChange('name', ev);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), \"/*\", React.createElement(\"input\", {\n        name: \"description\",\n        placeholder: \"description\",\n        onChange: function onChange(ev) {\n          _this2.handleChange('description', ev);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), \"*/\", React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.submit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \" Add Task \"));\n    }\n  }]);\n\n  return AddTodo;\n}(React.Component);\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(App, _React$Component2);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var ListView = function ListView(_ref) {\n        var todos = _ref.todos;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"All Tasks\"), React.createElement(\"ul\", {\n          className: \"theList\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, todos.map(function (todo) {\n          return React.createElement(\"li\", {\n            key: todo.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, todo.name);\n        })));\n      };\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Connect, {\n        mutation: graphqlOperation(mutations.createTodo),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, function (_ref2) {\n        var mutation = _ref2.mutation;\n        return React.createElement(AddTodo, {\n          onCreate: mutation,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        });\n      }), React.createElement(Connect, {\n        query: graphqlOperation(queries.listTodos),\n        subscription: graphqlOperation(subscriptions.onCreateTodo),\n        onSubscriptionMsg: function onSubscriptionMsg(prev, _ref3) {\n          var onCreateTodo = _ref3.onCreateTodo;\n          console.log('Subscription data:', onCreateTodo);\n          return prev;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, function (_ref4) {\n        var listTodos = _ref4.data.listTodos,\n            loading = _ref4.loading,\n            error = _ref4.error;\n        if (error) return React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Error\");\n        if (loading || !listTodos) return React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Loading...\");\n        return React.createElement(ListView, {\n          todos: listTodos.items,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\ryan_\\aws-appsync-demo\\src\\App.js"],"names":["React","graphqlOperation","Connect","mutations","queries","subscriptions","AddTodo","props","state","name","description","ev","setState","target","value","onCreate","input","console","log","handleChange","submit","bind","Component","App","ListView","todos","map","todo","id","createTodo","mutation","listTodos","onCreateTodo","prev","data","loading","error","items"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { graphqlOperation } from \"aws-amplify\";\nimport { Connect } from \"aws-amplify-react\";\n\nimport * as mutations from './graphql/mutations';\nimport * as queries from './graphql/queries';\nimport * as subscriptions from './graphql/subscriptions';\n\nclass AddTodo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        name: '',\n        description: '',\n    };\n  }\n\n  handleChange(name, ev) {\n      this.setState({ [name]: ev.target.value });\n  }\n\n  async submit() {\n    const { onCreate } = this.props;\n    var input = {\n      name: this.state.name,\n      description: this.state.description\n    }\n    console.log(input);\n    await onCreate({input})\n  }\n\n  render(){\n    return (\n        <div>\n            <input\n                name=\"name\"\n                placeholder=\"name\"\n                onChange={(ev) => { this.handleChange('name', ev)}}\n            />\n            /*<input\n                name=\"description\"\n                placeholder=\"description\"\n                onChange={(ev) => { this.handleChange('description', ev)}}\n            />*/\n            <button type=\"submit\" onClick={this.submit.bind(this)}> Add Task </button>\n        </div>\n    );\n  }\n}\n\nclass App extends React.Component {\n  render() {\n\n    const ListView = ({ todos }) => (\n      <div>\n          <h3>All Tasks</h3>\n          <ul className=\"theList\">\n            {todos.map(todo => <li key={todo.id}>{todo.name}</li>)}\n          </ul>\n      </div>\n    )\n\n    return (\n      <div className=\"App\">\n        <Connect mutation={graphqlOperation(mutations.createTodo)}>\n          {({mutation}) => (\n            <AddTodo onCreate={mutation} />\n          )}\n        </Connect>\n\n        <Connect query={graphqlOperation(queries.listTodos)}\n          subscription={graphqlOperation(subscriptions.onCreateTodo)}\n          onSubscriptionMsg={(prev, {onCreateTodo}) => {\n              console.log('Subscription data:', onCreateTodo)\n              return prev;\n            }\n          }>\n        {({ data: { listTodos }, loading, error }) => {\n          if (error) return <h3>Error</h3>;\n          if (loading || !listTodos) return <h3>Loading...</h3>;\n            return <ListView todos={listTodos.items} />\n        }}\n        </Connect>\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}